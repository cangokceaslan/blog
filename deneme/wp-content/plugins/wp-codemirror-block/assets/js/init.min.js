void 0===window.wpcm.editors&&(window.wpcm.editors=[]),function(e,t,o){"use strict";t.executable_modes=["htmlmixed","javascript","xml","jsx","vue"],t.frontEndInitialization=function(){var o=document.querySelectorAll(".code-block > pre.CodeMirror");t.addNotice();for(var n=0;n<o.length;n++){var a=o[n];if(a.dataset.setting){var i=JSON.parse(a.dataset.setting),d=o[n].textContent,l="code-block-"+n;o[n].parentNode.setAttribute("id",n),a.setAttribute("id",l),t.codeMirrorInit(l,d,i,n)}}e(document.body).trigger("wpcm_editors_loaded")},t.codeMirrorInit=function(n,a,i){var d=document.getElementById(n);d.style="display: none";var l=o(d.parentNode,{lineNumbers:i.lineNumbers,lineWrapping:i.lineWrapping,readOnly:i.readOnly,scrollbarStyle:"simple",firstLineNumber:i.firstLineNumber?Math.abs(i.firstLineNumber):1});o.autoLoadTheme(l,i.theme),l.setValue(a),i.disableCopy&&l.setOption("readOnly","nocursor"),l.setOption("mode",i.mime),l.setOption("theme",i.theme),i.styleActiveLine&&(l.on("blur",e=>{l.setOption("styleActiveLine",!1)}),l.on("focus",e=>{l.setOption("styleActiveLine",i.styleActiveLine)})),o.autoLoadMode(l,i.mode),void 0!==i.showPanel&&!1===i.showPanel||!0!==i.showPanel&&!0!==t.panelOptions.showPanel||(l.getWrapperElement().querySelector(".CodeMirror-simplescroll-vertical").classList.add("adjest-top"),t.addPanel(l,i)),t.executable_modes.includes(i.mode)&&t.renderOutputBlock(d),t.editors.push(l),e(document.body).trigger("wpcm_editor_loaded",[l])},t.addNotice=function(){var e=document.createElement("div");e.className="CodeMirror-notice",document.body.appendChild(e)},t.showNotice=function(e,t){var o=document.querySelector(".CodeMirror-notice");o.innerHTML=e,o.setAttribute("style",["bottom: 15px;"].join("")),setTimeout(()=>{o.removeAttribute("style")},3e3)},t.addPanel=function(e,o){var n=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),d=document.createElement("span"),l=e.getWrapperElement();if(n.className="CodeMirror-panel",a.className="info-panel",i.className="control-panel","no"==o.languageLabel||("language"==window.wpcm.panelOptions.languageLabel||"language"==o.languageLabel?(d.textContent=o.language,d.className="language "+o.language.toLowerCase(),d.className+=o.modeName?" "+o.modeName.toLowerCase():""):"file"!=window.wpcm.panelOptions.languageLabel&&"file"!=o.languageLabel||(d.textContent=o.fileName?o.fileName:o.language,d.className="language "+o.language.toLowerCase(),d.className+=o.modeName?" "+o.modeName.toLowerCase():"")),a.appendChild(d),window.wpcm.panelOptions.runButton&&t.executable_modes.includes(o.mode)){var c=document.createElement("span"),s=document.createElement("b");c.classList="tool",c.setAttribute("data-tip","Execute Code"),s.className="run-code execute-code",c.onclick=t.executeCode,c.appendChild(s),i.appendChild(c)}if(window.wpcm.panelOptions.fullScreenButton){var r=document.createElement("span"),m=document.createElement("b");r.classList="tool",r.setAttribute("data-tip","Full Screen"),m.className="fullscreen maximize",m.onclick=t.setFullScreen,r.appendChild(m),i.appendChild(r)}if(window.wpcm.panelOptions.copyButton&&!o.disableCopy){var u=document.createElement("span"),p=document.createElement("b");u.classList="tool",u.setAttribute("data-tip","Copy Code"),p.className="copy",p.onclick=t.copyToClipboard,u.appendChild(p),i.appendChild(u)}a.appendChild(i),n.appendChild(a),l.insertBefore(n,l.firstChild)},t.executeCode=function(o){var n=this,a=n.closest(".code-block"),i=a.id,d=t.editors[i],l=d.getValue(),c=a.querySelector(".output-block-frame"),s=null;c.classList.add("show"),s=c.contentWindow?c.contentWindow:c.contentDocument.document?c.contentDocument.document:c.contentDocument,s.document.open(),s.document.write(l),s.document.close(),e("html, body").animate({scrollTop:e(c).offset().top-80},600)},t.styleOutputBlock=function(e){var t=e.target,o=null,n=0;t.classList.contains("first-load")?t.classList.remove("first-load"):(o=t.contentWindow?t.contentWindow:t.contentDocument.document?t.contentDocument.document:t.contentDocument,t.setAttribute("style","height:200px"),o.document.body?(n=Math.round(o.document.body.scrollHeight)+25,n>200&&t.setAttribute("style","height:"+n+"px")):t.setAttribute("style","height:70vh"))},t.renderOutputBlock=function(e){var o=document.createElement("iframe");o.classList.add("output-block-frame","first-load"),o.onload=t.styleOutputBlock,o.style.height="100px",o.src="",e.parentNode.append(o)},t.setFullScreen=function(){var e=this,o=e.closest(".code-block"),n=o.id,a=t.editors[n],i=document.getElementById("wpadminbar");e.classList.contains("maximize")?(e.classList.remove("maximize"),e.classList.add("restore"),e.closest(".CodeMirror").classList.add("CodeMirror-fullscreen"),void 0!==i&&null!=i&&e.closest(".CodeMirror").classList.add("adjest-top"),document.documentElement.style.overflow="hidden"):(e.classList.remove("restore"),e.classList.add("maximize"),e.closest(".CodeMirror").classList.remove("CodeMirror-fullscreen","adjest-top"),document.documentElement.style.overflow=""),a.refresh()},t.copyToClipboard=function(){var e=this,o=e.closest(".code-block"),n=o.id,a=t.editors[n].getValue();if(window.clipboardData)window.clipboardData.setData("Text",a);else{var i=document.createElement("textarea");i.className="CodeMirror-ClipBoard",document.body.appendChild(i),i.appendChild(document.createTextNode(a)),i.select();try{var d=document.execCommand("copy"),l=d?"Copied to cliboard":"Can not copied"}catch(e){l="Oops, unable to copy"}t.showNotice(l,""),i.remove()}}}(window.jQuery,window.wpcm,window.CodeMirror),wpcm.frontEndInitialization(),jQuery(document).ready(function(){setTimeout(()=>{for(var e=0;e<wpcm.editors.length;e++)wpcm.editors[e].refresh()},1500)});